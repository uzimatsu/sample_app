<!DOCTYPE html>
<html>
<head>
  <title><%= full_title(yield(:title)) %></title>
  <%= stylesheet_link_tag    "application", media: "all",
  "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>

</head>
<body>

  <%= render 'layouts/header' %>
  <div class="container">
    <!-- flashの中身を表示 -->
    <% flash.each do |key, value| %>
    <div class="alert alert-<%= key %>"><%= value %></div>
    <% end %>

    <div id="back-top" style="position:fixed;right:5px;bottom:5px">
      <a href="#">ページの先頭へ↑</a>
    </div>

    <%= yield %>
    <%= render 'layouts/footer' %>
    <!-- デバッグ内容を表示 ※開発環境に限る -->
    <%= debug(params) if Rails.env.development?%>
  </div>
<script>
$(function () {
  // 非表示状態
  $('#back-top').hide();
  //スクロール時の位置を判定、場所によって、表示表示状態を決める
  $(window).scroll(function () {
    if ($(this).scrollTop() > 60) {
      $('#back-top').fadeIn();
    }else {
      $('#back-top').fadeOut();
    }
  });

  // クリックされたら上に戻る
  $('#back-top a').click(function () {
    // 0.5秒でスクロールのトップに戻す
    $('body, html').animate({
      scrollTop:0
    }, 400);
    return false;
  });
});

</script>
</body>
</html>
